{:name :settings
 :type :root
 :version "1.0"
 :value
 [{:name :project
   :tag "Project Settings"
   :docstring [:span "Settings for bootstrapping the HOP project (collection of files in the git repository)."]
   :type :plain-group
   :value [{:name :name
            :tag "Name"
            :docstring [:span "Single word or composite name separated by hyphenes or underscores. Maximum length is 48 characters. May only use letters (upper or lower case letters from the ASCII alphabet), or numbers. But cannot start with a number."]
            :type :string
            :value "hop"
            :pattern "[a-zA-Z_\\-][a-zA-Z_\\-]{0,47}"}
           {:name :docker
            :tag "Docker"
            :type :plain-group
            :value [{:name :registry
                     :tag "Registry"
                     :docstring [:span "Docker registry for storing the application's deployment Docker images."]
                     :type :single-choice-group
                     :value :aws
                     :choices [{:name :custom
                                :tag "Custom Registry Provider"
                                :type :plain-group
                                :value [{:name :app-repository-url
                                         :type :string
                                         ;; NOTE: This is going to be
                                         ;; whichever Docker Registry
                                         ;; URL the user wants to use
                                         :value "local/app"}]}
                               {:name :aws
                                :tag "Amazon Web Services deployment target"
                                :type :plain-group
                                :value [{:name :app-repository-url
                                         :tag "Application Repository URL"
                                         :type :ref
                                         :value :deployment-target.aws.project.ecr/app-repository-url}]}]}]}
           {:name :proxy
            :tag "Proxy"
            :docstring [:span "Settings for setting up the application's reverse proxy."]
            :type :plain-group
            :value [{:name :dev
                     :tag "Development environment"
                     :type :plain-group
                     :value [{:name :protocol
                              :tag "Protocol"
                              :type :string
                              :value "http"
                              :read-only? true}
                             {:name :domain
                              :tag "Domain"
                              :type :string
                              :value "localhost"
                              :pattern "[^\\s]+"}]}
                    {:name :test
                     :tag "Testing environment"
                     :type :plain-group
                     :value [{:name :protocol
                              :tag "Protocol"
                              :type :string
                              :value "https"
                              :read-only? true}
                             {:name :domain
                              :tag "Domain"
                              :type :string
                              :value "app.test.invalid"
                              :pattern "[^\\s]+"}]}
                    {:name :prod
                     :tag "Production environment"
                     :type :plain-group
                     :value [{:name :protocol
                              :tag "Protocol"
                              :type :string
                              :value "https"
                              :read-only? true}
                             {:name :domain
                              :tag "Domain"
                              :type :string
                              :value "app.invalid"
                              :pattern "[^\\s]+"}]}]}
           {:name :profiles
            :tag "Profiles"
            :type :multiple-choice-group
            :value [:core :aws]
            :choices [{:name :core
                       :tag "Core"
                       :docstring [:span "Base profile that adds the barebones to the HOP project (mandatory)."]
                       :depends-on-profiles []
                       :type :plain-group
                       :value [{:name :environment
                                :tag "Environment"
                                :docstring [:span "Core profile environment settings. They might vary between different environments."]
                                :type :plain-group
                                :value [{:name :dev
                                         :tag "Development environment"
                                         :docstring [:span "Local development environment's configuration."]
                                         :type :plain-group
                                         :value [{:name :nginx-memory-limit-mb
                                                  :tag "Nginx memory limit (mb)"
                                                  :docstring [:span "Nginx container memory limit in megabytes."]
                                                  :type :integer
                                                  :value 128}
                                                 {:name :app-memory-limit-mb
                                                  :tag "Application memory limit (mb)"
                                                  :docstring [:span "Application container memory limit in megabytes."]
                                                  :type :integer
                                                  :value 4096}]}
                                        {:name :test
                                         :tag "Testing environment"
                                         :type :plain-group
                                         :value [{:name :nginx-memory-limit-mb
                                                  :tag "Nginx memory limit (mb)"
                                                  :docstring [:span "Nginx container memory limit in megabytes."]
                                                  :type :integer
                                                  :value 128}
                                                 {:name :app-memory-limit-mb
                                                  :tag "Application memory limit (mb)"
                                                  :docstring [:span "Application container memory limit in megabytes."]
                                                  :type :integer
                                                  :value 4096}]}
                                        {:name :prod
                                         :tag "Production environment"
                                         :type :plain-group
                                         :value [{:name :nginx-memory-limit-mb
                                                  :tag "Nginx memory limit (mb)"
                                                  :docstring [:span "Nginx container memory limit in megabytes."]
                                                  :type :integer
                                                  :value 128}
                                                 {:name :app-memory-limit-mb
                                                  :tag "Application memory limit (mb)"
                                                  :docstring [:span "Application container memory limit in megabytes."]
                                                  :type :integer
                                                  :value 4096}]}]}]}
                      {:name :frontend
                       :tag "Frontend"
                       :docstring [:span "Provides a minimal front-end using re-frame and reagent."]
                       :depends-on-profile [:core]
                       :type :plain-group
                       :value []}
                      {:name :on-premises
                       :tag "Deploy to On-premises"
                       :docstring [:span "Profile for setting up the project to be deployed On-premises."]
                       :depends-on-profiles [:core]
                       :type :plain-group
                       :value [{:name :operating-system
                                :tag "Operating System"
                                :docstring [:span "The Operating System where the application will be deployed."]
                                :type :plain-group
                                :value [{:name :persistent-data-dir
                                         :tag "Persistent data dir"
                                         :docstring [:span "This folder will be used to store persistent data of your application's services, such as database."]
                                         :type :string
                                         :value "/usr/local/hop/hop/persistent-data-dir"}]}
                               {:name :ssl-termination
                                :value :nginx
                                :type :single-choice-group
                                :choices [{:name :nginx
                                           :tag "NGINX configuration file"
                                           :docstring [:span "This option only provides NGINX configuration file for setting up your own SSL termination flow."]
                                           :type :plain-group
                                           :value []}
                                          {:name :https-portal
                                           :tag "HTTPS Portal container"
                                           :docstring [:span [:a {:href "https://github.com/SteveLTN/https-portal"} "HTTPS Portal"] " Docker container that provides SSL termination using Let's Encrypt certificates."]
                                           :type :plain-group
                                           :value [{:name :test
                                                    :tag "Test"
                                                    :type :plain-group
                                                    :value [{:name :domain
                                                             :tag "Domain"
                                                             :type :ref
                                                             :value :project.proxy.test/domain}]}
                                                   {:name :prod
                                                    :tag "Prod"
                                                    :type :plain-group
                                                    :value [{:name :domain
                                                             :tag "Domain"
                                                             :type :ref
                                                             :value :project.proxy.prod/domain}]}]}]}]}
                      {:name :aws
                       :tag "Deploy to Amazon Web Services"
                       :docstring [:span "Profile for setting up the project to be deployed in Amazon Web Services."]
                       :depends-on-profiles [:core]
                       :type :plain-group
                       :value [{:name :region
                                :tag "Region"
                                :docstring [:span "Region in which the application is deployed."]
                                :type :ref
                                :value :deployment-target.aws.account/region}
                               {:name :aws-vault
                                :tag "AWS Vault"
                                :docstring [:span "Configuration for the AWS Vault tool that is used to manage credentials."]
                                :type :plain-group
                                :value [{:name :profile-prefix
                                         :tag "Profile prefix"
                                         :docstring [:span "Prefix for the AWS profiles used to run the project. The prefix will be used in the following notation: <prefix>/<name>"]
                                         :type :string
                                         :value "hop"
                                         :pattern "[^\\s]+"}]}
                               {:name :credentials
                                :type :plain-group
                                :tag "Credentials"
                                :value [{:name :local-dev-user
                                         :tag "Local development user"
                                         :docstring [:span "Credentials for the user that is used to run the HOP projects locally."]
                                         :type :plain-group
                                         :value [{:name :name
                                                  :tag "Username"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.local-dev-user/name}
                                                 {:name :arn
                                                  :tag "ARN"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.local-dev-user/arn}
                                                 {:name :access-key-id
                                                  :tag "Access Key Id"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.local-dev-user/access-key-id}
                                                 {:name :secret-access-key
                                                  :tag "Secret Access Key"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.local-dev-user/secret-access-key}
                                                 {:name :role-arn
                                                  :tag "Role ARN"
                                                  :docstring [:span "ARN of the role that the local development user will assume to run the project."]
                                                  :type :ref
                                                  :value :deployment-target.aws.environment.dev.iam.role/arn}]}
                                        {:name :ci-user
                                         :tag "CI/CD user"
                                         :docstring [:span "Credentials for running and deploying the project in the CI/CD pipelines."]
                                         :type :plain-group
                                         :value [{:name :name
                                                  :tag "Name"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.ci-user/name}
                                                 {:name :arn
                                                  :tag "ARN"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.ci-user/arn}
                                                 {:name :access-key-id
                                                  :tag "Access Key Id"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.ci-user/access-key-id}
                                                 {:name :secret-access-key
                                                  :tag "Secret Access Key"
                                                  :type :ref
                                                  :value :deployment-target.aws.account.iam.ci-user/secret-access-key}]}]}]}
                      {:name :ci
                       :tag "CI/CD"
                       :docstring [:span "Profile for setting up a Continuous Integration and Continuous Deployment pipeline."]
                       :depends-on-profiles [:core]
                       :type :plain-group
                       :value [{:name :provider
                                :tag "Provider"
                                :docstring [:span "CI/CD pipeline machinery provider."]
                                :type :single-choice-group
                                :value :github-actions
                                :choices [{:name :bitbucket-pipelines
                                           :tag "Bitbucket Pipelines"
                                           :type :plain-group
                                           :value []}
                                          {:name :github-actions
                                           :tag "Github Actions"
                                           :type :plain-group
                                           :value []}
                                          {:name :custom
                                           :tag "Custom"
                                           :docstring [:span "Custom option does not assume any CI provider and only gives you generic CI scripts that are provider agnostic."]
                                           :type :plain-group
                                           :value []}]}
                               {:name :continuous-deployment
                                :tag "Continuous Deployment"
                                :docstring [:span "Configuration for the pipeline step for deploying the application to the testing and production environments."]
                                :type :plain-group
                                :value [{:name :git
                                         :tag "Git"
                                         :type :plain-group
                                         :value [{:name :deployment-branch
                                                  :tag "Deployment branch"
                                                  :docstring [:span "Branch that will be used to deploy the application. All the commits to this branch will trigger an application deployment."]
                                                  :type :string
                                                  :value "main"}]}
                                        {:name :provider
                                         :tag "Provider"
                                         :docstring [:span "Deployment target in which the application will be deployed."]
                                         :type :single-choice-group
                                         :value :aws
                                         :choices [{:name :on-premises
                                                    :tag "On-premises"
                                                    :docstring [:span "On-premises option does not assume any CD provider and only gives you generic CD scripts that are provider agnostic."]
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :aws
                                                    :tag "Amazon Web Services"
                                                    :type :plain-group
                                                    :value [{:name :eb-application-name
                                                             :tag "ElasticBeanstalk Application name"
                                                             :docstring [:span "Name for the ElasticBeanstalk application where the HOP project is deployed."]
                                                             :type :ref
                                                             :value :deployment-target.aws.project.eb/application-name}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :tag "Testing environment"
                                                                      :type :plain-group
                                                                      :value [{:name :eb-env-name
                                                                               :tag "ElasticBeanstalk Environment name"
                                                                               :docstring [:span "Name for the ElasticBeanstalk environment for the testing environment."]
                                                                               :type :ref
                                                                               :value :deployment-target.aws.environment.test.eb/environment-name}]}
                                                                     {:name :prod
                                                                      :tag "Production environment"
                                                                      :type :plain-group
                                                                      :value [{:name :eb-env-name
                                                                               :tag "ElasticBeanstalk Environment name"
                                                                               :docstring [:span "Name for the ElasticBeanstalk environment for the production environment."]
                                                                               :type :ref
                                                                               :value :deployment-target.aws.environment.prod.eb/environment-name}]}]}]}]}]}]}
                      {:name :observability-runtime-configurable-logging
                       :tag "Observability - Runtime Configurable Logging"
                       :docstring [:span "Profile for making the project's logger configurable at runtime."]
                       :depends-on-profiles [:core]
                       :type :plain-group
                       :value []}
                      {:name :observability-cloudwatch-logging
                       :tag "Observability - AWS CloudWatch Logging"
                       :docstring [:span "Profile that configures a Amazon Web Services CloudWatch Timbre logging appender."]
                       :depends-on-profiles [:core :aws]
                       :type :plain-group
                       :value [{:name :environment
                                :tag "Environment"
                                :type :plain-group
                                :value [{:name :dev
                                         :tag "Development environment"
                                         :type :plain-group
                                         :value [{:name :log-group-name
                                                  :tag "Log group name"
                                                  :docstring [:span "CloudWatch log group name where the logs will be sent to."]
                                                  :type :ref
                                                  :value :deployment-target.aws.environment.dev.optional-services.cloudwatch/log-group-name}
                                                 {:name :min-log-level
                                                  :tag "Min log level"
                                                  :docstring [:span "Minimum logging level configuration. Possible values: :trace, :debug, :info, :warn, :error, :fatal or :report."]
                                                  :type :string
                                                  :value "info"
                                                  :pattern "trace|debug|info|warn|error|fatal|report"}]}
                                        {:name :test
                                         :tag "Testing environment"
                                         :type :plain-group
                                         :value [{:name :log-group-name
                                                  :tag "Log group name"
                                                  :docstring [:span "CloudWatch log group name where the logs will be sent to."]
                                                  :type :ref
                                                  :value :deployment-target.aws.environment.test.optional-services.cloudwatch/log-group-name}
                                                 {:name :min-log-level
                                                  :tag "Min log level"
                                                  :docstring [:span "Minimum logging level configuration. Possible values: :trace, :debug, :info, :warn, :error, :fatal or :report."]
                                                  :type :string
                                                  :pattern "trace|debug|info|warn|error|fatal|report"
                                                  :value "info"}]}
                                        {:name :prod
                                         :tag "Production environment"
                                         :type :plain-group
                                         :value [{:name :log-group-name
                                                  :tag "Log group name"
                                                  :docstring [:span "CloudWatch log group name where the logs will be sent to."]
                                                  :type :ref
                                                  :value :deployment-target.aws.environment.prod.optional-services.cloudwatch/log-group-name}
                                                 {:name :min-log-level
                                                  :tag "Min log level"
                                                  :docstring [:span "Minimum logging level configuration. Possible values: :trace, :debug, :info, :warn, :error, :fatal or :report."]
                                                  :type :string
                                                  :pattern "trace|debug|info|warn|error|fatal|report"
                                                  :value "info"}]}]}]}
                      {:name :object-storage-s3
                       :tag "Object Storage - AWS S3"
                       :docstring [:span "Profile for setting up an Object Storage boundary for using Amazon Web Services S3."]
                       :depends-on-profiles [:core :aws]
                       :type :plain-group
                       :value [{:name :environment
                                :tag "Environment"
                                :type :plain-group
                                :value [{:name :dev
                                         :tag "Development environment"
                                         :type :plain-group
                                         :value [{:name :bucket
                                                  :tag "Bucket"
                                                  :type :single-choice-group
                                                  :value :provisioned
                                                  :choices [{:name :provisioned
                                                             :tag "Provisioned by HOP"
                                                             :docstring [:span "When selected, the S3 Bucket provisioned in the Deployment Target section is used."]
                                                             :type :plain-group
                                                             :value [{:name :name
                                                                      :tag "Name"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.dev.optional-services.s3/bucket-name}]}
                                                            {:name :custom
                                                             :tag "Custom"
                                                             :docstring [:span "Existing S3 Bucket of your choice."]
                                                             :type :plain-group
                                                             :value [{:name :name
                                                                      :tag "Name"
                                                                      :type :string
                                                                      :value ""
                                                                      :pattern "[^\\s]+"}]}]}]}
                                        {:name :test
                                         :tag "Testing environment"
                                         :type :plain-group
                                         :value [{:name :bucket
                                                  :tag "Bucket"
                                                  :type :single-choice-group
                                                  :value :provisioned
                                                  :choices [{:name :provisioned
                                                             :tag "Provisioned by HOP"
                                                             :docstring [:span "When selected, the S3 Bucket provisioned in the Deployment Target section is used."]
                                                             :type :plain-group
                                                             :value [{:name :name
                                                                      :tag "Name"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.test.optional-services.s3/bucket-name}]}
                                                            {:name :custom
                                                             :tag "Custom"
                                                             :docstring [:span "Existing S3 Bucket of your choice."]
                                                             :type :plain-group
                                                             :value [{:name :name
                                                                      :tag "Name"
                                                                      :type :string
                                                                      :value ""
                                                                      :pattern "[^\\s]+"}]}]}]}
                                        {:name :prod
                                         :tag "Production environment"
                                         :type :plain-group
                                         :value [{:name :bucket
                                                  :tag "Bucket"
                                                  :type :single-choice-group
                                                  :value :provisioned
                                                  :choices [{:name :provisioned
                                                             :tag "Provisioned by HOP"
                                                             :docstring [:span "When selected, the S3 Bucket provisioned in the Deployment Target section is used."]
                                                             :type :plain-group
                                                             :value [{:name :name
                                                                      :tag "Name"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.prod.optional-services.s3/bucket-name}]}
                                                            {:name :custom
                                                             :tag "Custom"
                                                             :docstring [:span "Existing S3 Bucket of your choice."]
                                                             :type :plain-group
                                                             :value [{:name :name
                                                                      :tag "Name"
                                                                      :type :string
                                                                      :value ""
                                                                      :pattern "[^\\s]+"}]}]}]}]}]}
                      {:name :persistence-sql
                       :tag "Persistence - SQL"
                       :docstring [:span "Profile for setting up a SQL boundary for data persistence."]
                       :depends-on-profiles [:core]
                       :type :plain-group
                       :value [{:name :database
                                :type :plain-group
                                :tag "Database"
                                :value [{:name :version
                                         :tag "Postgres version"
                                         :type :string
                                         :value "17"
                                         :pattern "[^\\s]+"}]}
                               {:name :deployment
                                :tag "Deployment"
                                :docstring [:span "The settings of the profile are splitted between two sets of deployment groups: development and deployment."]
                                :type :plain-group
                                :value [{:name :to-develop
                                         :tag "Development environments"
                                         :docstring [:span "Settings for the environments that are used at development."]
                                         :type :single-choice-group
                                         :value :container
                                         :choices [{:name :container
                                                    :tag "Docker container"
                                                    :docstring [:span "The database instance runs on a local Docker container."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :container}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :dev
                                                                      :tag "Development environment"
                                                                      :type :plain-group
                                                                      :value [{:name :database
                                                                               :tag "Database"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :value "db"
                                                                                        :pattern "[^\\s]+"}
                                                                                       {:name :memory-limit-mb
                                                                                        :tag "Container memory limit (mb)"
                                                                                        :type :integer
                                                                                        :value 512}
                                                                                       {:name :admin-user
                                                                                        :tag "Admin user"
                                                                                        :docstring [:span "Superuser for the Database instance."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :value "postgres"
                                                                                                 :pattern "[^\\s]+"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :string
                                                                                                 :value "sa"}]}
                                                                                       {:name :app-user
                                                                                        :tag "Clojure application user"
                                                                                        :docstring [:span "User that the Clojure application will use to connect to the database."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :value "app"
                                                                                                 :pattern "[^\\s]+"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :string
                                                                                                 :value "sa"}
                                                                                                {:name :schema
                                                                                                 :tag "Schema"
                                                                                                 :docstring [:span
                                                                                                             [:a
                                                                                                              {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                               :target "_blank"}
                                                                                                              "PostgreSQL schema"]
                                                                                                             " for the Clojure application."]
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}]}
                                                                                       {:name :other-users
                                                                                        :tag "Other database users"
                                                                                        :docstring [:span "Extra users needed by some of the other HOP profiles."]
                                                                                        :type :multiple-choice-group
                                                                                        :value []
                                                                                        :choices [{:name :keycloak
                                                                                                   :tag "Keycloak"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}
                                                                                                           {:name :password
                                                                                                            :tag  "Password"
                                                                                                            :type :string
                                                                                                            :value "sa"}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :docstring [:span
                                                                                                                        [:a
                                                                                                                         {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                                          :target "_blank"}
                                                                                                                         "PostgreSQL schema"]
                                                                                                                        " for Keycloak."]
                                                                                                            :type :string
                                                                                                            :value "keycloak"}]}
                                                                                                  {:name :grafana
                                                                                                   :tag "Grafana"
                                                                                                   :docstring [:span "User that Grafana will use to store its data."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :string
                                                                                                            :value "sa"}
                                                                                                           {:name :schema
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"
                                                                                                            :tag "Schema"
                                                                                                            :docstring [:span
                                                                                                                        [:a
                                                                                                                         {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                                          :target "_blank"}
                                                                                                                         "PostgreSQL schema"]
                                                                                                                        " for the Grafana application."]}]}
                                                                                                  {:name :grafana-datasource
                                                                                                   :tag "Grafana datasource"
                                                                                                   :docstring [:span "User that Grafana will use to interact with the database to fetch data needed in the Dashboards."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana_datasource"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :string
                                                                                                            :value "sa"}]}]}]}]}]}]}
                                                   {:name :external
                                                    :tag "External instance"
                                                    :docstring [:span "Database instance not provisioned by HOP."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :external}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :dev
                                                                      :tag "Development environment"
                                                                      :type :plain-group
                                                                      :value [{:name :database
                                                                               :tag "Database"
                                                                               :type :plain-group
                                                                               :value [{:name :type
                                                                                        :tag "Type"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "postgresql"}
                                                                                       {:name :host
                                                                                        :tag "Host"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "db.host"}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "ebdb"}
                                                                                       {:name :app-user
                                                                                        :tag "Clojure application user"
                                                                                        :docstring [:span "User that the Clojure application will use to connect to the database."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :password
                                                                                                 :value ""}
                                                                                                {:name :schema
                                                                                                 :tag "Schema"
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}]}
                                                                                       {:name :other-users
                                                                                        :tag "Other database users"
                                                                                        :docstring [:span "Extra users needed by some of the other HOP profiles."]
                                                                                        :type :multiple-choice-group
                                                                                        :value []
                                                                                        :choices [{:name :keycloak
                                                                                                   :tag "Keycloak"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :password
                                                                                                            :value ""}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}]}
                                                                                                  {:name :grafana
                                                                                                   :tag "Grafana"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :password
                                                                                                            :value ""}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}]}
                                                                                                  {:name :grafana-datasource
                                                                                                   :tag "Grafana datasource"
                                                                                                   :docstring [:span "User that Grafana will use to interact with the database to fetch data needed in the Dashboards."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana_datasource"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :password
                                                                                                            :value ""}]}]}]}]}]}]}]}
                                        {:name :to-deploy
                                         :tag "Deployment environments"
                                         :docstring [:span "Settings for the environments where the project is deployed."]
                                         :type :single-choice-group
                                         :value :docker
                                         :choices [{:name :docker
                                                    :tag "Docker"
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :container}
                                                            {:name :persistent-data-dir
                                                             :tag "Persistent Data Dir"
                                                             :type :single-choice-group
                                                             :value :on-premises
                                                             :choices [{:name :on-premises
                                                                        :tag "On-premises profile"
                                                                        :type :ref
                                                                        :value :project.profiles.on-premises.operating-system/persistent-data-dir}]}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :tag "Testing environment"
                                                                      :type :plain-group
                                                                      :value [{:name :database
                                                                               :tag "Database"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :value "db"
                                                                                        :pattern "[^\\s]+"}
                                                                                       {:name :memory-limit-mb
                                                                                        :tag "Container memory limit (mb)"
                                                                                        :type :integer
                                                                                        :value 512}
                                                                                       {:name :admin-user
                                                                                        :tag "Admin user"
                                                                                        :docstring [:span "Superuser for the Database instance."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :value "postgres"
                                                                                                 :pattern "[^\\s]+"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :auto-gen-password
                                                                                                 :value {:length 24}}]}
                                                                                       {:name :app-user
                                                                                        :tag "Clojure application user"
                                                                                        :docstring [:span "User that the Clojure application will use to connect to the database."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :value "app"
                                                                                                 :pattern "[^\\s]+"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :auto-gen-password
                                                                                                 :value {:length 24}}
                                                                                                {:name :schema
                                                                                                 :tag "Schema"
                                                                                                 :docstring [:span
                                                                                                             [:a
                                                                                                              {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                               :target "_blank"}
                                                                                                              "PostgreSQL schema"]
                                                                                                             " for the Clojure application."]
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}]}
                                                                                       {:name :other-users
                                                                                        :tag "Other database users"
                                                                                        :docstring [:span "Extra users needed by some of the other HOP profiles."]
                                                                                        :type :multiple-choice-group
                                                                                        :value []
                                                                                        :choices [{:name :keycloak
                                                                                                   :tag "Keycloak"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}
                                                                                                           {:name :password
                                                                                                            :tag  "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 24}}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :docstring [:span
                                                                                                                        [:a
                                                                                                                         {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                                          :target "_blank"}
                                                                                                                         "PostgreSQL schema"]
                                                                                                                        " for Keycloak."]
                                                                                                            :type :string
                                                                                                            :value "keycloak"}]}
                                                                                                  {:name :grafana
                                                                                                   :tag "Grafana"
                                                                                                   :docstring [:span "User that Grafana will use to store its data."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 24}}
                                                                                                           {:name :schema
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"
                                                                                                            :tag "Schema"
                                                                                                            :docstring [:span
                                                                                                                        [:a
                                                                                                                         {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                                          :target "_blank"}
                                                                                                                         "PostgreSQL schema"]
                                                                                                                        " for the Grafana application."]}]}
                                                                                                  {:name :grafana-datasource
                                                                                                   :tag "Grafana datasource"
                                                                                                   :docstring [:span "User that Grafana will use to interact with the database to fetch data needed in the Dashboards."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana_datasource"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 24}}]}]}]}]}
                                                                     {:name :prod
                                                                      :tag "Production environment"
                                                                      :type :plain-group
                                                                      :value [{:name :database
                                                                               :tag "Database"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :value "db"
                                                                                        :pattern "[^\\s]+"}
                                                                                       {:name :memory-limit-mb
                                                                                        :tag "Container memory limit (mb)"
                                                                                        :type :integer
                                                                                        :value 512}
                                                                                       {:name :admin-user
                                                                                        :tag "Admin user"
                                                                                        :docstring [:span "Superuser for the Database instance."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :value "postgres"
                                                                                                 :pattern "[^\\s]+"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :auto-gen-password
                                                                                                 :value {:length 24}}]}
                                                                                       {:name :app-user
                                                                                        :tag "Clojure application user"
                                                                                        :docstring [:span "User that the Clojure application will use to connect to the database."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :value "app"
                                                                                                 :pattern "[^\\s]+"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :auto-gen-password
                                                                                                 :value {:length 24}}
                                                                                                {:name :schema
                                                                                                 :tag "Schema"
                                                                                                 :docstring [:span
                                                                                                             [:a
                                                                                                              {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                               :target "_blank"}
                                                                                                              "PostgreSQL schema"]
                                                                                                             " for the Clojure application."]
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}]}
                                                                                       {:name :other-users
                                                                                        :tag "Other database users"
                                                                                        :docstring [:span "Extra users needed by some of the other HOP profiles."]
                                                                                        :type :multiple-choice-group
                                                                                        :value []
                                                                                        :choices [{:name :keycloak
                                                                                                   :tag "Keycloak"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}
                                                                                                           {:name :password
                                                                                                            :tag  "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 24}}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :docstring [:span
                                                                                                                        [:a
                                                                                                                         {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                                          :target "_blank"}
                                                                                                                         "PostgreSQL schema"]
                                                                                                                        " for Keycloak."]
                                                                                                            :type :string
                                                                                                            :value "keycloak"}]}
                                                                                                  {:name :grafana
                                                                                                   :tag "Grafana"
                                                                                                   :docstring [:span "User that Grafana will use to store its data."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 24}}
                                                                                                           {:name :schema
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"
                                                                                                            :tag "Schema"
                                                                                                            :docstring [:span
                                                                                                                        [:a
                                                                                                                         {:href "https://www.postgresql.org/docs/current/ddl-schemas.html"
                                                                                                                          :target "_blank"}
                                                                                                                         "PostgreSQL schema"]
                                                                                                                        " for the Grafana application."]}]}
                                                                                                  {:name :grafana-datasource
                                                                                                   :tag "Grafana datasource"
                                                                                                   :docstring [:span "User that Grafana will use to interact with the database to fetch data needed in the Dashboards."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana_datasource"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 24}}]}]}]}]}]}]}
                                                   {:name :rds
                                                    :tag "AWS RDS"
                                                    :docstring [:span "Amazon Web Services RDS instance provisioned by the Deployment Target."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :external}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :tag "Testing environment"
                                                                      :type :plain-group
                                                                      :value [{:name :database
                                                                               :tag "Database"
                                                                               :type :plain-group
                                                                               :value [{:name :type
                                                                                        :tag "Type"
                                                                                        :type :string
                                                                                        :value "postgresql"
                                                                                        :read-only? true}
                                                                                       {:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :deployment-target.aws.environment.test.optional-services.rds/host}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :deployment-target.aws.environment.test.optional-services.rds/name}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :deployment-target.aws.environment.test.optional-services.rds/port}
                                                                                       {:name :admin-user
                                                                                        :tag "Admin user"
                                                                                        :docstring [:span "Superuser for the Database instance."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :ref
                                                                                                 :value :deployment-target.aws.environment.test.optional-services.rds.admin-user/username}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :ref
                                                                                                 :value :deployment-target.aws.environment.test.optional-services.rds.admin-user/password}]}
                                                                                       {:name :app-user
                                                                                        :tag "Clojure application user"
                                                                                        :docstring [:span "User that the Clojure application will use to connect to the database."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :auto-gen-password
                                                                                                 :value {:length 24}}
                                                                                                {:name :schema
                                                                                                 :tag "Schema"
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}]}
                                                                                       {:name :other-users
                                                                                        :tag "Other database users"
                                                                                        :docstring [:span "Extra users needed by some of the other HOP profiles."]
                                                                                        :type :multiple-choice-group
                                                                                        :value []
                                                                                        :choices [{:name :keycloak
                                                                                                   :tag "Keycloak"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 32}}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}]}
                                                                                                  {:name :grafana
                                                                                                   :tag "Grafana"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 32}}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}]}
                                                                                                  {:name :grafana-datasource
                                                                                                   :tag "Grafana datasource"
                                                                                                   :docstring [:span "User that Grafana will use to interact with the database to fetch data needed in the Dashboards."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana_datasource"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 32}}]}]}]}]}
                                                                     {:name :prod
                                                                      :tag "Production environment"
                                                                      :type :plain-group
                                                                      :value [{:name :database
                                                                               :tag "Database"
                                                                               :type :plain-group
                                                                               :value [{:name :type
                                                                                        :tag "Type"
                                                                                        :type :string
                                                                                        :value "postgresql"
                                                                                        :read-only? true}
                                                                                       {:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :deployment-target.aws.environment.prod.optional-services.rds/host}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :deployment-target.aws.environment.prod.optional-services.rds/name}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :deployment-target.aws.environment.prod.optional-services.rds/port}
                                                                                       {:name :admin-user
                                                                                        :tag "Admin user"
                                                                                        :docstring [:span "Superuser for the Database instance."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :ref
                                                                                                 :value :deployment-target.aws.environment.prod.optional-services.rds.admin-user/username}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :ref
                                                                                                 :value :deployment-target.aws.environment.prod.optional-services.rds.admin-user/password}]}
                                                                                       {:name :app-user
                                                                                        :tag "Clojure application user"
                                                                                        :docstring [:span "User that the Clojure application will use to connect to the database."]
                                                                                        :type :plain-group
                                                                                        :value [{:name :username
                                                                                                 :tag "Username"
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}
                                                                                                {:name :password
                                                                                                 :tag "Password"
                                                                                                 :type :auto-gen-password
                                                                                                 :value {:length 24}}
                                                                                                {:name :schema
                                                                                                 :tag "Schema"
                                                                                                 :type :string
                                                                                                 :pattern "[^\\s]+"
                                                                                                 :value "app"}]}
                                                                                       {:name :other-users
                                                                                        :tag "Other database users"
                                                                                        :docstring [:span "Extra users needed by some of the other HOP profiles."]
                                                                                        :type :multiple-choice-group
                                                                                        :value []
                                                                                        :choices [{:name :keycloak
                                                                                                   :tag "Keycloak"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 32}}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "keycloak"}]}
                                                                                                  {:name :grafana
                                                                                                   :tag "Grafana"
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 32}}
                                                                                                           {:name :schema
                                                                                                            :tag "Schema"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana"}]}
                                                                                                  {:name :grafana-datasource
                                                                                                   :tag "Grafana datasource"
                                                                                                   :docstring [:span "User that Grafana will use to interact with the database to fetch data needed in the Dashboards."]
                                                                                                   :type :plain-group
                                                                                                   :value [{:name :username
                                                                                                            :tag "Username"
                                                                                                            :type :string
                                                                                                            :pattern "[^\\s]+"
                                                                                                            :value "grafana_datasource"}
                                                                                                           {:name :password
                                                                                                            :tag "Password"
                                                                                                            :type :auto-gen-password
                                                                                                            :value {:length 32}}]}]}]}]}]}]}]}]}]}

                      {:name :bi-grafana
                       :tag "Business Intelligence - Grafana"
                       :type :plain-group
                       :depends-on-profiles [:core :persistence-sql]
                       :value [{:name :version
                                :tag "Grafana version"
                                :type :string
                                :pattern "[^\\s]+"
                                :value "11.3.1"}
                               {:name :deployment
                                :tag "Deployment"
                                :docstring [:span "The settings of the profile are splitted between two sets of deployment groups: development and deployment."]
                                :type :plain-group
                                :value [{:name :to-develop
                                         :type :single-choice-group
                                         :tag "Development environments"
                                         :docstring [:span "Settings for the environments that are used at development."]
                                         :value :container
                                         :choices [{:name :container
                                                    :tag "Docker container"
                                                    :docstring [:span "The Grafana instance runs on a local Docker container."]
                                                    :type :plain-group
                                                    :value [{:name :db-deployment-type
                                                             :tag "Database deployment type"
                                                             :type :ref
                                                             :value :project.profiles.persistence-sql.deployment.to-develop.?/deployment-type}
                                                            {:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :container}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :dev
                                                                      :tag "Development environment"
                                                                      :type :plain-group
                                                                      :value [{:name :server-domain
                                                                               :type :string
                                                                               :tag "Server domain"
                                                                               :value "localhost"}
                                                                              {:name :sso
                                                                               :type :boolean
                                                                               :tag "Single Sign On"
                                                                               :value true}
                                                                              {:name :memory-limit-mb
                                                                               :tag "Memory limit (mb)"
                                                                               :docstring [:span "Grafana container memory limit in megabytes."]
                                                                               :type :integer
                                                                               :value 1024}
                                                                              {:name :admin-user
                                                                               :tag "Admin user"
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value "admin"}
                                                                                       {:name :password
                                                                                        :type :password
                                                                                        :tag "Password"
                                                                                        :value "admin"}]}
                                                                              {:name :database
                                                                               :tag "Database"
                                                                               :docstring [:span "Database for Grafana data persistence. It uses the persistence-sql HOP profile, so make sure it is also enabled and configured."]
                                                                               :type :plain-group
                                                                               :value [{:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/host}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/port}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/name}
                                                                                       {:name :username
                                                                                        :tag "Username"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.grafana/username}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.grafana/password}
                                                                                       {:name :schema
                                                                                        :tag "Schema"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.grafana/schema}]}
                                                                              {:name :app-integration
                                                                               :tag "Clojure application integration user"
                                                                               :docstring [:span "User that the Clojure application will use to interact with Grafana."]
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value "grafana_integration"}
                                                                                       {:name :password
                                                                                        :type :auto-gen-password
                                                                                        :tag "Password"
                                                                                        :value {:length 24}}]}
                                                                              {:name :oidc
                                                                               :tag "Open ID Connect"
                                                                               :type :single-choice-group
                                                                               :value :keycloak-profile
                                                                               :choices [{:name :keycloak-profile
                                                                                          :tag "Keycloak profile"
                                                                                          :type :plain-group
                                                                                          :value [{:name :token-url
                                                                                                   :tag "Token Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/token-url}
                                                                                                  {:name :api-url
                                                                                                   :tag "Api Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/api-url}
                                                                                                  {:name :auth-url
                                                                                                   :tag "Auth Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/auth-url}
                                                                                                  {:name :logout-url
                                                                                                   :tag "Logout Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/logout-url}
                                                                                                  {:name :client-id
                                                                                                   :tag "Client Id"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev.other-clients.grafana/id}
                                                                                                  {:name :client-secret
                                                                                                   :tag "Client Secret"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev.other-clients.grafana/secret}]}
                                                                                         {:name :custom
                                                                                          :tag "Custom OIDC provider"
                                                                                          :docstring [:span "OIDC provider not provisioned by HOP"]
                                                                                          :type :plain-group
                                                                                          :value [{:name :token-url
                                                                                                   :tag "Token Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :api-url
                                                                                                   :tag "Api Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :auth-url
                                                                                                   :tag "Auth Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :logout-url
                                                                                                   :tag "Logout Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :client-id
                                                                                                   :tag "Client Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value ""}
                                                                                                  {:name :client-secret
                                                                                                   :tag "Client Secret"
                                                                                                   :type :password
                                                                                                   :value ""}]}]}]}]}]}
                                                   {:name :external
                                                    :tag "External instance"
                                                    :docstring [:span "Grafana instance not provisioned by HOP."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :external}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :dev
                                                                      :tag "Development environment"
                                                                      :type :plain-group
                                                                      :value [{:name :uri
                                                                               :docstring [:span "E.g., http://localhost/grafana"]
                                                                               :type :url
                                                                               :tag "Uri"
                                                                               :value ""}
                                                                              {:name :sso
                                                                               :type :boolean
                                                                               :tag "Single Sign On"
                                                                               :value true}
                                                                              {:name :app-integration
                                                                               :type :plain-group
                                                                               :tag "Clojure application integration"
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value ""}
                                                                                       {:name :password
                                                                                        :type :password
                                                                                        :tag "Password"
                                                                                        :value ""}]}]}]}]}]}
                                        {:name :to-deploy
                                         :type :single-choice-group
                                         :tag "Deployment environments"
                                         :value :container
                                         :choices [{:name :container
                                                    :tag "Docker container"
                                                    :docstring [:span "The Grafana instance runs on a local Docker container."]
                                                    :type :plain-group
                                                    :value [{:name :db-deployment-type
                                                             :tag "Database deployment type"
                                                             :type :ref
                                                             :value :project.profiles.persistence-sql.deployment.to-deploy.?/deployment-type}
                                                            {:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :container}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :tag "Testing Environment"
                                                                      :type :plain-group
                                                                      :value [{:name :server-domain
                                                                               :type :ref
                                                                               :tag "Server domain"
                                                                               :value :project.proxy.test/domain}
                                                                              {:name :sso
                                                                               :type :boolean
                                                                               :tag "Single Sign On"
                                                                               :value true}
                                                                              {:name :memory-limit-mb
                                                                               :tag "Memory limit (mb)"
                                                                               :docstring [:span "Grafana container memory limit in megabytes."]
                                                                               :type :integer
                                                                               :value 1024}
                                                                              {:name :admin-user
                                                                               :tag "Admin user"
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value "admin"}
                                                                                       {:name :password
                                                                                        :type :auto-gen-password
                                                                                        :tag "Password"
                                                                                        :value {:length 24}}]}
                                                                              {:name :database
                                                                               :tag "Database"
                                                                               :docstring [:span "Database for Grafana data persistence. It uses the persistence-sql HOP profile, so make sure it is also enabled and configured."]
                                                                               :type :plain-group
                                                                               :value [{:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/host}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/port}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/name}
                                                                                       {:name :username
                                                                                        :tag "Username"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.grafana/username}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.grafana/password}
                                                                                       {:name :schema
                                                                                        :tag "Schema"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.grafana/schema}]}
                                                                              {:name :app-integration
                                                                               :type :plain-group
                                                                               :tag "Clojure application integration"
                                                                               :docstring [:span "User that the Clojure application will use to interact with Grafana."]
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value "grafana_integration"}
                                                                                       {:name :password
                                                                                        :type :auto-gen-password
                                                                                        :tag "Password"
                                                                                        :value {:length 24}}]}
                                                                              {:name :oidc
                                                                               :tag "Open ID Connect"
                                                                               :type :single-choice-group
                                                                               :value :keycloak-profile
                                                                               :choices [{:name :keycloak-profile
                                                                                          :tag "Keycloak profile"
                                                                                          :type :plain-group
                                                                                          :value [{:name :token-url
                                                                                                   :tag "Token Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/token-url}
                                                                                                  {:name :api-url
                                                                                                   :tag "Api Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/api-url}
                                                                                                  {:name :auth-url
                                                                                                   :tag "Auth Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/auth-url}
                                                                                                  {:name :logout-url
                                                                                                   :tag "Logout Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/logout-url}
                                                                                                  {:name :client-id
                                                                                                   :tag "Client Id"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test.other-clients.grafana/id}
                                                                                                  {:name :client-secret
                                                                                                   :tag "Client Secret"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test.other-clients.grafana/secret}]}
                                                                                         {:name :custom
                                                                                          :tag "Custom"
                                                                                          :docstring [:span "Existing external OIDC provider."]
                                                                                          :type :plain-group
                                                                                          :value [{:name :token-url
                                                                                                   :tag "Token Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :api-url
                                                                                                   :tag "Api Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :auth-url
                                                                                                   :tag "Auth Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :logout-url
                                                                                                   :tag "Logout Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :client-id
                                                                                                   :tag "Client Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value ""}
                                                                                                  {:name :client-secret
                                                                                                   :tag "Client Secret"
                                                                                                   :type :password
                                                                                                   :value ""}]}]}]}
                                                                     {:name :prod
                                                                      :tag "Production Environment"
                                                                      :type :plain-group
                                                                      :value [{:name :server-domain
                                                                               :type :ref
                                                                               :tag "Server domain"
                                                                               :value :project.proxy.prod/domain}
                                                                              {:name :sso
                                                                               :type :boolean
                                                                               :tag "Single Sign On"
                                                                               :value true}
                                                                              {:name :memory-limit-mb
                                                                               :tag "Memory limit (mb)"
                                                                               :docstring [:span "Grafana container memory limit in megabytes."]
                                                                               :type :integer
                                                                               :value 1024}
                                                                              {:name :admin-user
                                                                               :tag "Admin user"
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value "admin"}
                                                                                       {:name :password
                                                                                        :type :auto-gen-password
                                                                                        :tag "Password"
                                                                                        :value {:length 24}}]}
                                                                              {:name :database
                                                                               :tag "Database"
                                                                               :docstring [:span "Database for Grafana data persistence. It uses the persistence-sql HOP profile, so make sure it is also enabled and configured."]
                                                                               :type :plain-group
                                                                               :value [{:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/host}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/port}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/name}
                                                                                       {:name :username
                                                                                        :tag "Username"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.grafana/username}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.grafana/password}
                                                                                       {:name :schema
                                                                                        :tag "Schema"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.grafana/schema}]}
                                                                              {:name :app-integration
                                                                               :type :plain-group
                                                                               :tag "Clojure application integration"
                                                                               :docstring [:span "User that the Clojure application will use to interact with Grafana."]
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value "grafana_integration"}
                                                                                       {:name :password
                                                                                        :type :auto-gen-password
                                                                                        :tag "Password"
                                                                                        :value {:length 24}}]}
                                                                              {:name :oidc
                                                                               :tag "Open ID Connect"
                                                                               :type :single-choice-group
                                                                               :value :keycloak-profile
                                                                               :choices [{:name :keycloak-profile
                                                                                          :tag "Keycloak profile"
                                                                                          :type :plain-group
                                                                                          :value [{:name :token-url
                                                                                                   :tag "Token Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/token-url}
                                                                                                  {:name :api-url
                                                                                                   :tag "Api Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/api-url}
                                                                                                  {:name :auth-url
                                                                                                   :tag "Auth Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/auth-url}
                                                                                                  {:name :logout-url
                                                                                                   :tag "Logout Url"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/logout-url}
                                                                                                  {:name :client-id
                                                                                                   :tag "Client Id"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod.other-clients.grafana/id}
                                                                                                  {:name :client-secret
                                                                                                   :tag "Client Secret"
                                                                                                   :type :ref
                                                                                                   :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod.other-clients.grafana/secret}]}
                                                                                         {:name :custom
                                                                                          :tag "Custom"
                                                                                          :docstring [:span "Existing external OIDC provider."]
                                                                                          :type :plain-group
                                                                                          :value [{:name :token-url
                                                                                                   :tag "Token Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :api-url
                                                                                                   :tag "Api Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :auth-url
                                                                                                   :tag "Auth Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :logout-url
                                                                                                   :tag "Logout Url"
                                                                                                   :type :url
                                                                                                   :value ""}
                                                                                                  {:name :client-id
                                                                                                   :tag "Client Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value ""}
                                                                                                  {:name :client-secret
                                                                                                   :tag "Client Secret"
                                                                                                   :type :password
                                                                                                   :value ""}]}]}]}]}]}
                                                   {:name :external
                                                    :tag "External instance"
                                                    :docstring [:span "Grafana instance not provisioned by HOP."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :external}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :type :plain-group
                                                                      :tag "Testing environment"
                                                                      :value [{:name :uri
                                                                               :type :url
                                                                               :tag "Uri"
                                                                               :docstring [:span "E.g., http://localhost/grafana"]
                                                                               :value ""}
                                                                              {:name :sso
                                                                               :type :boolean
                                                                               :tag "Single Sign On"
                                                                               :value true}
                                                                              {:name :app-integration
                                                                               :type :plain-group
                                                                               :tag "Clojure application integration"
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value ""}
                                                                                       {:name :password
                                                                                        :type :password
                                                                                        :tag "Password"
                                                                                        :value ""}]}]}
                                                                     {:name :prod
                                                                      :type :plain-group
                                                                      :tag "Production environment"
                                                                      :value [{:name :uri
                                                                               :type :url
                                                                               :tag "Uri"
                                                                               :docstring [:span "E.g., http://localhost/grafana"]
                                                                               :value ""}
                                                                              {:name :sso
                                                                               :type :boolean
                                                                               :tag "Single Sign On"
                                                                               :value true}
                                                                              {:name :app-integration
                                                                               :type :plain-group
                                                                               :tag "Clojure application integration"
                                                                               :value [{:name :username
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :tag "Username"
                                                                                        :value ""}
                                                                                       {:name :password
                                                                                        :type :password
                                                                                        :tag "Password"
                                                                                        :value ""}]}]}]}]}]}]}]}
                      {:name :auth-keycloak
                       :tag "Authentication - Keycloak"
                       :docstring [:span "Profile for setting up Keycloak as OIDC authentication provider."]
                       :depends-on-profiles [:core :persistence-sql]
                       :type :plain-group
                       :value [{:name :version
                                :tag "Version"
                                :type :string
                                :pattern "[^\\s]+"
                                :value "26.0.7"}
                               {:name :deployment
                                :tag "Deployment"
                                :docstring [:span "The settings of the profile are splitted between two sets of deployment groups: development and deployment."]
                                :type :plain-group
                                :value [{:name :to-develop
                                         :tag "Development environments"
                                         :docstring [:span "Settings for the environments that are used at development."]
                                         :type :single-choice-group
                                         :value :container
                                         :choices [{:name :container
                                                    :tag "Docker container"
                                                    :docstring [:span "The Keycloak instance runs on a local Docker container."]
                                                    :type :plain-group
                                                    :value [{:name :db-deployment-type
                                                             :tag "Database deployment type"
                                                             :type :ref
                                                             :value :project.profiles.persistence-sql.deployment.to-develop.?/deployment-type}
                                                            {:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :container}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :dev
                                                                      :tag "Development environment"
                                                                      :type :plain-group
                                                                      :value [{:name :admin
                                                                               :tag "Admin user"
                                                                               :docstring [:span "Superuser for the Keycloak instance."]
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :tag "Username"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "admin"}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :password
                                                                                        :value "Testpassword1!"}]}
                                                                              {:name :memory-limit-mb
                                                                               :tag "Memory limit (mb)"
                                                                               :docstring [:span "Memory limit for the Docker container in megabytes"]
                                                                               :type :integer
                                                                               :value 768}
                                                                              {:name :app-client
                                                                               :tag "Clojure application app-client"
                                                                               :type :plain-group
                                                                               :value [{:name :id
                                                                                        :tag "Id"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop-spa-XXXXXXXX"}]}
                                                                              {:name :other-clients
                                                                               :tag "Other clients"
                                                                               :docstring [:span "Extra OIDC clients used by some of the other HOP profiles."]
                                                                               :type :multiple-choice-group
                                                                               :value []
                                                                               :choices [{:name :grafana
                                                                                          :tag "Grafana"
                                                                                          :type :plain-group
                                                                                          :value [{:name :id
                                                                                                   :tag "Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value "hop-grafana-XXXXXXX"}
                                                                                                  {:name :secret
                                                                                                   :tag "Secret"
                                                                                                   :type :auto-gen-password
                                                                                                   :value {:length 32}}]}]}
                                                                              {:name :realm
                                                                               :tag "Realm"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop"}]}
                                                                              {:name :theme
                                                                               :tag "Theme"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop"}]}
                                                                              {:name :database
                                                                               :tag "Database"
                                                                               :docstring [:span "Database for Keycloak data persistence. It uses the persistence-sql HOP profile, so make sure it is also enabled and configured."]
                                                                               :type :plain-group
                                                                               :value [{:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/host}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/port}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/name}
                                                                                       {:name :username
                                                                                        :tag "Username"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.keycloak/username}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.keycloak/password}
                                                                                       {:name :schema
                                                                                        :tag "Schema"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.keycloak/schema}]}]}]}]}
                                                   {:name :external
                                                    :tag "External instance"
                                                    :docstring [:span "Keycloak instance not provisioned by HOP."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :external}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :dev
                                                                      :tag "Development environment"
                                                                      :type :plain-group
                                                                      :value [{:name :realm
                                                                               :tag "Realm"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value ""}]}
                                                                              {:name :uri
                                                                               :tag "URI"
                                                                               :docstring [:span "E.g., http://localhost/auth"]
                                                                               :type :url
                                                                               :value ""}
                                                                              {:name :app-client
                                                                               :tag "Clojure application app-client"
                                                                               :type :plain-group
                                                                               :value [{:name :id
                                                                                        :tag "Id"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value ""}]}
                                                                              {:name :other-clients
                                                                               :tag "Other clients"
                                                                               :docstring [:span "Extra OIDC clients used by some of the other HOP profiles."]
                                                                               :type :multiple-choice-group
                                                                               :value []
                                                                               :choices [{:name :grafana
                                                                                          :tag "Grafana"
                                                                                          :type :plain-group
                                                                                          :value [{:name :id
                                                                                                   :tag "Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value ""}
                                                                                                  {:name :secret
                                                                                                   :tag "Secret"
                                                                                                   :type :password
                                                                                                   :value ""}]}]}]}]}]}]}
                                        {:name :to-deploy
                                         :tag "Deployment environments"
                                         :docstring [:span "Settings for the environments where the project is deployed."]
                                         :type :single-choice-group
                                         :value :container
                                         :choices [{:name :container
                                                    :tag "Docker container"
                                                    :docstring [:span "The Keycloak instance runs on a local Docker container."]
                                                    :type :plain-group
                                                    :value [{:name :db-deployment-type
                                                             :tag "Database deployment type"
                                                             :type :ref
                                                             :value :project.profiles.persistence-sql.deployment.to-deploy.?/deployment-type}
                                                            {:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :container}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :tag "Testing environment"
                                                                      :type :plain-group
                                                                      :value [{:name :admin
                                                                               :tag "Admin user"
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :tag "Username"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "admin"}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :auto-gen-password
                                                                                        :value {:length 24}}]}
                                                                              {:name :memory-limit-mb
                                                                               :tag "Memory limit (mb)"
                                                                               :docstring [:span "Memory limit for the Docker container in megabytes"]
                                                                               :type :integer
                                                                               :value 768}
                                                                              {:name :app-client
                                                                               :tag "Clojure application app-client"
                                                                               :type :plain-group
                                                                               :value [{:name :id
                                                                                        :tag "Id"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop-spa-XXXXXXXX"}]}
                                                                              {:name :other-clients
                                                                               :tag "Other clients"
                                                                               :docstring [:span "Extra OIDC clients used by some of the other HOP profiles."]
                                                                               :type :multiple-choice-group
                                                                               :value []
                                                                               :choices [{:name :grafana
                                                                                          :tag "Grafana"
                                                                                          :type :plain-group
                                                                                          :value [{:name :id
                                                                                                   :tag "Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value "hop-grafana-XXXXXXX"}
                                                                                                  {:name :secret
                                                                                                   :tag "Secret"
                                                                                                   :type :auto-gen-password
                                                                                                   :value {:length 32}}]}]}
                                                                              {:name :realm
                                                                               :tag "Realm"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop"}]}
                                                                              {:name :theme
                                                                               :tag "Theme"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop"}]}
                                                                              {:name :database
                                                                               :tag "Database"
                                                                               :docstring [:span "Database for Keycloak data persistence. It uses the persistence-sql HOP profile, so make sure it is also enabled and configured."]
                                                                               :type :plain-group
                                                                               :value [{:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/host}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/port}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/name}
                                                                                       {:name :username
                                                                                        :tag "Username"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.keycloak/username}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.keycloak/password}
                                                                                       {:name :schema
                                                                                        :tag "Schema"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.keycloak/schema}]}]}
                                                                     {:name :prod
                                                                      :tag "Production environment"
                                                                      :type :plain-group
                                                                      :value [{:name :admin
                                                                               :tag "Admin user"
                                                                               :type :plain-group
                                                                               :value [{:name :username
                                                                                        :tag "Username"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "admin"}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :auto-gen-password
                                                                                        :value {:length 24}}]}
                                                                              {:name :memory-limit-mb
                                                                               :tag "Memory limit (mb)"
                                                                               :docstring [:span "Memory limit for the Docker container in megabytes"]
                                                                               :type :integer
                                                                               :value 768}
                                                                              {:name :app-client
                                                                               :tag "Clojure application app-client"
                                                                               :type :plain-group
                                                                               :value [{:name :id
                                                                                        :tag "Id"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop-spa-XXXXXXXX"}]}
                                                                              {:name :other-clients
                                                                               :tag "Other clients"
                                                                               :docstring [:span "Extra OIDC clients used by some of the other HOP profiles."]
                                                                               :type :multiple-choice-group
                                                                               :value []
                                                                               :choices [{:name :grafana
                                                                                          :tag "Grafana"
                                                                                          :type :plain-group
                                                                                          :value [{:name :id
                                                                                                   :tag "Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value "hop-grafana-XXXXXXX"}
                                                                                                  {:name :secret
                                                                                                   :tag "Secret"
                                                                                                   :type :auto-gen-password
                                                                                                   :value {:length 32}}]}]}
                                                                              {:name :realm
                                                                               :tag "Realm"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop"}]}
                                                                              {:name :theme
                                                                               :tag "Theme"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value "hop"}]}
                                                                              {:name :database
                                                                               :tag "Database"
                                                                               :docstring [:span "Database for Keycloak data persistence. It uses the persistence-sql HOP profile, so make sure it is also enabled and configured."]
                                                                               :type :plain-group
                                                                               :value [{:name :host
                                                                                        :tag "Host"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/host}
                                                                                       {:name :port
                                                                                        :tag "Port"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/port}
                                                                                       {:name :name
                                                                                        :tag "Name"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/name}
                                                                                       {:name :username
                                                                                        :tag "Username"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.keycloak/username}
                                                                                       {:name :password
                                                                                        :tag "Password"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.keycloak/password}
                                                                                       {:name :schema
                                                                                        :tag "Schema"
                                                                                        :type :ref
                                                                                        :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.keycloak/schema}]}]}]}]}
                                                   {:name :external
                                                    :tag "External instance"
                                                    :docstring [:span "Keycloak instance not provisioned by HOP."]
                                                    :type :plain-group
                                                    :value [{:name :deployment-type
                                                             :tag "Deployment type"
                                                             :type :keyword
                                                             :read-only? true
                                                             :value :external}
                                                            {:name :environment
                                                             :tag "Environment"
                                                             :type :plain-group
                                                             :value [{:name :test
                                                                      :tag "Testing environment"
                                                                      :type :plain-group
                                                                      :value [{:name :realm
                                                                               :tag "Realm"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value ""}]}
                                                                              {:name :uri
                                                                               :tag "URI"
                                                                               :docstring [:span "E.g., http://localhost/auth"]
                                                                               :type :url
                                                                               :value ""}
                                                                              {:name :app-client
                                                                               :tag "Clojure application app-client"
                                                                               :type :plain-group
                                                                               :value [{:name :id
                                                                                        :tag "Id"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value ""}]}
                                                                              {:name :other-clients
                                                                               :tag "Other clients"
                                                                               :docstring [:span "Extra OIDC clients used by some of the other HOP profiles."]
                                                                               :type :multiple-choice-group
                                                                               :value []
                                                                               :choices [{:name :grafana
                                                                                          :tag "Grafana"
                                                                                          :type :plain-group
                                                                                          :value [{:name :id
                                                                                                   :tag "Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value ""}
                                                                                                  {:name :secret
                                                                                                   :tag "Secret"
                                                                                                   :type :password
                                                                                                   :value ""}]}]}]}
                                                                     {:name :prod
                                                                      :tag "Production environment"
                                                                      :type :plain-group
                                                                      :value [{:name :realm
                                                                               :tag "Realm"
                                                                               :type :plain-group
                                                                               :value [{:name :name
                                                                                        :tag "Name"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value ""}]}
                                                                              {:name :uri
                                                                               :tag "URI"
                                                                               :docstring [:span "E.g., http://localhost/auth"]
                                                                               :type :url
                                                                               :value ""}
                                                                              {:name :app-client
                                                                               :tag "Clojure application app-client"
                                                                               :type :plain-group
                                                                               :value [{:name :id
                                                                                        :tag "Id"
                                                                                        :type :string
                                                                                        :pattern "[^\\s]+"
                                                                                        :value ""}]}
                                                                              {:name :other-clients
                                                                               :tag "Other clients"
                                                                               :docstring [:span "Extra OIDC clients used by some of the other HOP profiles."]
                                                                               :type :multiple-choice-group
                                                                               :value []
                                                                               :choices [{:name :grafana
                                                                                          :tag "Grafana"
                                                                                          :type :plain-group
                                                                                          :value [{:name :id
                                                                                                   :tag "Id"
                                                                                                   :type :string
                                                                                                   :pattern "[^\\s]+"
                                                                                                   :value ""}
                                                                                                  {:name :secret
                                                                                                   :tag "Secret"
                                                                                                   :type :password
                                                                                                   :value ""}]}]}]}]}]}]}]}]}
                      {:name :auth-cognito
                       :tag "Authentication - AWS Cognito"
                       :docstring [:span "Profile for setting up Amazon Web Services Cognito as OIDC authentication provider."]
                       :depends-on-profiles [:core :aws]
                       :type :plain-group
                       :value [{:name :environment
                                :tag "Environment"
                                :type :plain-group
                                :value [{:name :dev
                                         :tag "Development environment"
                                         :type :plain-group
                                         :value [{:name :user-pool
                                                  :tag "User pool"
                                                  :type :single-choice-group
                                                  :value :provisioned
                                                  :choices [{:name :provisioned
                                                             :tag "Provisioned by HOP"
                                                             :docstring [:span "If selected, the Cognito User Pool provisioned by the Deployment Target will be used."]
                                                             :type :plain-group
                                                             :value [{:name :id
                                                                      :tag "Id"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.dev.optional-services.cognito.user-pool/id}
                                                                     {:name :url
                                                                      :tag "Url"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.dev.optional-services.cognito.user-pool/url}
                                                                     {:name :app-client
                                                                      :tag "Clojure application app-client"
                                                                      :type :plain-group
                                                                      :value [{:name :id
                                                                               :type :ref
                                                                               :value :deployment-target.aws.environment.dev.optional-services.cognito.user-pool.app-client/id}]}]}
                                                            {:name :custom
                                                             :tag "Custom"
                                                             :docstring [:span "Existing Cognito User Pool of your choice."]
                                                             :type :plain-group
                                                             :value [{:name :id
                                                                      :tag "Id"
                                                                      :type :string
                                                                      :pattern "[^\\s]+"
                                                                      :value ""}
                                                                     {:name :url
                                                                      :tag "Url"
                                                                      :docstring [:span "E.g., https://cognito-idp.<region>.amazonaws.com/<user-pool-id>"]
                                                                      :type :url
                                                                      :value ""}
                                                                     {:name :app-client
                                                                      :tag "Clojure application app-client"
                                                                      :docstring [:div
                                                                                  [:span "The client that will be used by the Clojure application. It should meet the following requirements:"]
                                                                                  [:ul
                                                                                   [:li "ExplicitAuthFlows: ALLOW_REFRESH_TOKEN_AUTH, ALLOW_ADMIN_USER_PASSWORD_AUTH and ALLOW_USER_SRP_AUTH"]
                                                                                   [:li "AllowedOAuthFlows: implicit"]
                                                                                   [:li "AllowedOAuthScopes: email, openid"]
                                                                                   [:li "GenerateSecret: no"]]]
                                                                      :type :plain-group
                                                                      :value [{:name :id
                                                                               :tag "Id"
                                                                               :type :string
                                                                               :pattern "[^\\s]+"
                                                                               :value ""}]}]}]}]}
                                        {:name :test
                                         :tag "Testing environment"
                                         :type :plain-group
                                         :value [{:name :user-pool
                                                  :tag "User pool"
                                                  :type :single-choice-group
                                                  :value :provisioned
                                                  :choices [{:name :provisioned
                                                             :tag "Provisioned by HOP"
                                                             :docstring [:span "If selected, the Cognito User Pool provisioned by the Deployment Target will be used."]
                                                             :type :plain-group
                                                             :value [{:name :id
                                                                      :tag "Id"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.test.optional-services.cognito.user-pool/id}
                                                                     {:name :url
                                                                      :tag "Url"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.test.optional-services.cognito.user-pool/url}
                                                                     {:name :app-client
                                                                      :tag "Clojure application app-client"
                                                                      :type :plain-group
                                                                      :value [{:name :id
                                                                               :type :ref
                                                                               :value :deployment-target.aws.environment.test.optional-services.cognito.user-pool.app-client/id}]}]}
                                                            {:name :custom
                                                             :tag "Custom"
                                                             :docstring [:span "Existing Cognito User Pool of your choice."]
                                                             :type :plain-group
                                                             :value [{:name :id
                                                                      :tag "Id"
                                                                      :type :string
                                                                      :pattern "[^\\s]+"
                                                                      :value ""}
                                                                     {:name :url
                                                                      :tag "Url"
                                                                      :docstring [:span "E.g., https://cognito-idp.<region>.amazonaws.com/<user-pool-id>"]
                                                                      :type :url
                                                                      :value ""}
                                                                     {:name :app-client
                                                                      :tag "Clojure application app-client"
                                                                      :docstring [:div
                                                                                  [:span "The client that will be used by the Clojure application. It should meet the following requirements:"]
                                                                                  [:ul
                                                                                   [:li "ExplicitAuthFlows: ALLOW_REFRESH_TOKEN_AUTH, ALLOW_ADMIN_USER_PASSWORD_AUTH and ALLOW_USER_SRP_AUTH"]
                                                                                   [:li "AllowedOAuthFlows: implicit"]
                                                                                   [:li "AllowedOAuthScopes: email, openid"]
                                                                                   [:li "GenerateSecret: no"]]]
                                                                      :type :plain-group
                                                                      :value [{:name :id
                                                                               :tag "Id"
                                                                               :type :string
                                                                               :pattern "[^\\s]+"
                                                                               :value ""}]}]}]}]}
                                        {:name :prod
                                         :tag "Production environmnet"
                                         :type :plain-group
                                         :value [{:name :user-pool
                                                  :tag "User pool"
                                                  :type :single-choice-group
                                                  :value :provisioned
                                                  :choices [{:name :provisioned
                                                             :tag "Provisioned by HOP"
                                                             :docstring [:span "If selected, the Cognito User Pool provisioned by the Deployment Target will be used."]
                                                             :type :plain-group
                                                             :value [{:name :id
                                                                      :tag "Id"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.prod.optional-services.cognito.user-pool/id}
                                                                     {:name :url
                                                                      :tag "Url"
                                                                      :type :ref
                                                                      :value :deployment-target.aws.environment.prod.optional-services.cognito.user-pool/url}
                                                                     {:name :app-client
                                                                      :tag "Clojure application app-client"
                                                                      :type :plain-group
                                                                      :value [{:name :id
                                                                               :tag "Id"
                                                                               :type :ref
                                                                               :value :deployment-target.aws.environment.prod.optional-services.cognito.user-pool.app-client/id}]}]}
                                                            {:name :custom
                                                             :tag "Custom"
                                                             :docstring [:span "Existing Cognito User Pool of your choice."]
                                                             :type :plain-group
                                                             :value [{:name :id
                                                                      :tag "Id"
                                                                      :type :string
                                                                      :pattern "[^\\s]+"
                                                                      :value ""}
                                                                     {:name :url
                                                                      :tag "Url"
                                                                      :docstring [:span "E.g., https://cognito-idp.<region>.amazonaws.com/<user-pool-id>"]
                                                                      :type :url
                                                                      :pattern "[^\\s]+"
                                                                      :value ""}
                                                                     {:name :app-client
                                                                      :tag "Clojure application app-client"
                                                                      :docstring [:div
                                                                                  [:span "The client that will be used by the Clojure application. It should meet the following requirements:"]
                                                                                  [:ul
                                                                                   [:li "ExplicitAuthFlows: ALLOW_REFRESH_TOKEN_AUTH, ALLOW_ADMIN_USER_PASSWORD_AUTH and ALLOW_USER_SRP_AUTH"]
                                                                                   [:li "AllowedOAuthFlows: implicit"]
                                                                                   [:li "AllowedOAuthScopes: email, openid"]
                                                                                   [:li "GenerateSecret: no"]]]
                                                                      :type :plain-group
                                                                      :value [{:name :id
                                                                               :tag "Id"
                                                                               :type :string
                                                                               :pattern "[^\\s]+"
                                                                               :value ""}]}]}]}]}]}]}]}]}
  {:name :deployment-target
   :tag "Deployment Target"
   :docstring [:span "Deployment target on which the HOP Application will be hosted. The HOP Command Line Interface tool will take care of the provisioning of the needed infrastructure."]
   :type :single-choice-group
   :value :aws
   :choices [{:name :on-premises
              :tag "On-premises infrastructure"
              :type :plain-group
              :value []}
             {:name :aws
              :tag "Amazon Web Services"
              :type :plain-group
              :value [{:name :account
                       :tag "Account resources"
                       :docstring [:span "Provisioning of the account-wide resources needed to deploy HOP Applications. This configuration is only used the first time a HOP Application is bootstrapped. Then the previous resources are reused."]
                       :type :plain-group
                       :value [{:name :region
                                :tag "Region"
                                :docstring [:span "Region in which the application is deployed. Make sure the selected region supports all the services used by HOP."]
                                :type :string
                                :pattern "[^\\s]+"
                                :value "eu-west-1"}
                               {:name :stack-name
                                :tag "Stack-name"
                                :docstring [:span
                                            "Name for the Cloudformation stack that will prepare your AWS account for running HOP Projects. The account stack name must be unique in your AWS account. Note that you should use the same account stack name for all of your HOP Projects. If the stack with that name exists, it will be used and no new stacks will be created or updated. For more information about the HOP Cloudformation stacks please "
                                            [:a
                                             {:href "https://docs.gethop.dev/en/latest/reference/aws-infrastructure/main.html#cloudformation"
                                              :target "_blank"}
                                             "check the documentation."]]
                                :type :string
                                :pattern "[^\\s]+"
                                :value "hop-account"}
                               {:name :resource-name-prefix
                                :tag "Resource name prefix"
                                :docstring [:span "Prefix for the resource names created by the HOP Cloudformation Account stack. This is used to avoid conflicts with already existing AWS resources."]
                                :type :string
                                :pattern "[^\\s]+"
                                :value "hop"}
                               {:name :vpc
                                :tag "VPC"
                                :type :plain-group
                                :value [{:name :cidr
                                         :tag "VPC CIDR"
                                         :docstring [:span "IP block that will be used in your VPC. Make sure to use a CIDR that does not conflict with an existing one in your account."]
                                         :type :string
                                         :pattern "[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}\\/[0-9]{1,2}"
                                         :value "172.31.0.0/16"}]}]}
                      {:name :project
                       :tag "Project"
                       :docstring [:span "Provisioning of the project-wide resources needed to deploy HOP Application. This configuration is used everytime a new HOP Project is created. The resources are reused for each environment within that project."]
                       :type :plain-group
                       :value [{:name :stack-name
                                :tag "Stack-name"
                                :docstring [:span "Name for the Cloudformation stack that will be used to generate project-wide resources. The project stack name must be unique in your AWS account. For more information about the HOP Cloudformation stacks please "
                                            [:a
                                             {:href "https://docs.gethop.dev/en/latest/reference/aws-infrastructure/main.html#cloudformation"
                                              :target "_blank"}
                                             "check the documentation."]]
                                :type :string
                                :pattern "[^\\s]+"
                                :value "hop-project"}
                               {:name :vpc
                                :tag "VPC"
                                :type :plain-group
                                :value [{:name :subnet-1
                                         :tag "Subnet 1"
                                         :type :plain-group
                                         :value [{:name :cidr
                                                  :tag "CIDR"
                                                  :docstring [:span "IP block that will be used in your subnet-1. Make sure the subnet IP CIDR align with the VPC CIDR block and that it does not conflict with other subnets CIDRs."]
                                                  :type :string
                                                  :pattern "[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}\\/[0-9]{1,2}"
                                                  :value "172.31.0.0/24"}]}
                                        {:name :subnet-2
                                         :tag "Subnet 2"
                                         :type :plain-group
                                         :value [{:name :cidr
                                                  :tag "CIDR"
                                                  :docstring [:span "IP block that will be used in your subnet-2. Make sure the subnet IP CIDR align with the VPC CIDR block and that it does not conflict with other subnets CIDRs."]
                                                  :type :string
                                                  :pattern "[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}\\/[0-9]{1,2}"
                                                  :value "172.31.1.0/24"}]}]}]}
                      {:name :environment
                       :tag "Environment"
                       :docstring [:span "Provisioning of resources needed to run a specific environment belonging to a HOP Application."]
                       :type :plain-group
                       :value [{:name :dev
                                :tag "Development environment"
                                :type :plain-group
                                :value [{:name :stack-name
                                         :tag "Cloudformation stack name"
                                         :type :string
                                         :pattern "[^\\s]+"
                                         :value "hop-project-dev"}
                                        {:name :optional-services
                                         :type :multiple-choice-group
                                         :tag "Optional services"
                                         :docstring [:span "Other Amazon Web Services that the environment may use."]
                                         :value []
                                         :choices [{:name :cognito
                                                    :tag "Cognito"
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :s3
                                                    :tag "S3"
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :cloudwatch
                                                    :tag "CloudWatch"
                                                    :type :plain-group
                                                    :value [{:name :log-group-name
                                                             :tag "Log group name"
                                                             :docstring [:span "CloudWatch log group name where the logs will be sent to."]
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "/aws/eb/hop-dev"}
                                                            {:name :retention-days
                                                             :tag "Retention days"
                                                             :docstring [:span "The amount of days after which the logs will be deleted."]
                                                             :type :integer
                                                             :value 1}]}]}]}
                               {:name :test
                                :tag "Testing environment"
                                :type :plain-group
                                :value [{:name :stack-name
                                         :tag "Cloudformation stack name"
                                         :type :string
                                         :pattern "[^\\s]+"
                                         :value "hop-project-test"}
                                        {:name :notifications-email
                                         :tag "Notifications email"
                                         :docstring [:span "Email address used to receive ElasticBeanstalk notifications about a specific environment."]
                                         :type :email
                                         :value "devops+test@mail.invalid"}
                                        {:name :eb
                                         :tag "ElasticBeanstalk"
                                         :type :plain-group
                                         :value [{:name :ec2-instance-type
                                                  :tag "EC2 Instance type"
                                                  :docsting [:span "Type of Amazon Web Services EC2 Instance. For all possible values, please refer to the "
                                                             [:a {:href "https://aws.amazon.com/ec2/instance-types/"
                                                                  :target "_blank"}
                                                              "AWS EC2 Instance types documentation"]]
                                                  :type :string
                                                  :pattern "[^\\s]+"
                                                  :value "t3.micro"}]}
                                        {:name :optional-services
                                         :type :multiple-choice-group
                                         :tag "Optional services"
                                         :docstring [:span "Other Amazon Web Services that the testing environment may use."]
                                         :value []
                                         :choices [{:name :cognito
                                                    :tag "Cognito"
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :s3
                                                    :tag "S3"
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :rds
                                                    :tag "RDS"
                                                    :docstring [:span "Configuration of AWS RDS service for the Database instance of the testing environment."]
                                                    :type :plain-group
                                                    :value [{:name :version
                                                             :tag "Version"
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "17"}
                                                            {:name :port
                                                             :tag "Port"
                                                             :type :string
                                                             :pattern "[0-9]+"
                                                             :value "5432"}
                                                            {:name :name
                                                             :tag "Database name"
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "ebdb"}
                                                            {:name :admin-user
                                                             :tag "Admin user"
                                                             :docstring [:span "Superuser for the Database instance."]
                                                             :type :plain-group
                                                             :value [{:name :username
                                                                      :tag "Username"
                                                                      :type :string
                                                                      :pattern "[^\\s]+"
                                                                      :value "postgres"}
                                                                     {:name :password
                                                                      :tag "Password"
                                                                      :type :auto-gen-password
                                                                      :value {:length 24}}]}]}
                                                   {:name :cloudwatch
                                                    :tag "CloudWatch"
                                                    :type :plain-group
                                                    :value [{:name :log-group-name
                                                             :tag "Log group name"
                                                             :docstring [:span "CloudWatch log group name where the logs will be sent to."]
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "/aws/eb/hop-test"}
                                                            {:name :retention-days
                                                             :tag "Retention days"
                                                             :docstring [:span "The amount of days after which the logs will be deleted."]
                                                             :type :integer
                                                             :value 60}]}]}
                                        {:name :kms
                                         :tag "KMS"
                                         :docstring [:span "Service used to manage symmetric encryption keys required by the testing environment."]
                                         :type :plain-group
                                         :value [{:name :key-alias
                                                  :tag "Key Alias"
                                                  :docstring [:span "Alias of the KMS key. It should have a shape of: alias/<name>"]
                                                  :type :string
                                                  :pattern "alias\\/[^\\s]+"
                                                  :value "alias/hop-test"}]}]}
                               {:name :prod
                                :tag "Production environment"
                                :type :plain-group
                                :value [{:name :stack-name
                                         :tag "Cloudformation Stack name"
                                         :type :string
                                         :pattern "[^\\s]+"
                                         :value "hop-project-prod"}
                                        {:name :notifications-email
                                         :tag "Notifications email"
                                         :docstring [:span "Email address used to receive ElasticBeanstalk notifications about a specific environment."]
                                         :type :email
                                         :value "devops+prod@mail.invalid"}
                                        {:name :eb
                                         :tag "ElasticBeanstalk"
                                         :type :plain-group
                                         :value [{:name :ec2-instance-type
                                                  :tag "EC2 Instance type"
                                                  :docsting [:span "Type of Amazon Web Services EC2 Instance. For all possible values, please refer to the "
                                                             [:a {:href "https://aws.amazon.com/ec2/instance-types/"
                                                                  :target "_blank"}
                                                              "AWS EC2 Instance types documentation"]]
                                                  :type :string
                                                  :pattern "[^\\s]+"
                                                  :value "t3.micro"}]}
                                        {:name :optional-services
                                         :tag "Optional services"
                                         :docstring [:span "Other Amazon Web Services that the production environment may use."]
                                         :type :multiple-choice-group
                                         :value []
                                         :choices [{:name :cognito
                                                    :tag "Cognito"
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :s3
                                                    :tag "S3"
                                                    :type :plain-group
                                                    :value []}
                                                   {:name :rds
                                                    :tag "RDS"
                                                    :docstring [:span "Configuration of AWS RDS service for the Database instance of the production environment."]
                                                    :type :plain-group
                                                    :value [{:name :version
                                                             :tag "Version"
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "17"}
                                                            {:name :port
                                                             :tag "Port"
                                                             :type :string
                                                             :pattern "[0-9]{4}"
                                                             :value "5432"}
                                                            {:name :name
                                                             :tag "Name"
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "ebdb"}
                                                            {:name :admin-user
                                                             :tag "Admin user"
                                                             :docstring [:span "Superuser for the Database instance."]
                                                             :type :plain-group
                                                             :value [{:name :username
                                                                      :tag "Username"
                                                                      :type :string
                                                                      :pattern "[^\\s]+"
                                                                      :value "postgres"}
                                                                     {:name :password
                                                                      :tag "Password"
                                                                      :type :auto-gen-password
                                                                      :value {:length 24}}]}]}
                                                   {:name :cloudwatch
                                                    :tag "CloudWatch"
                                                    :type :plain-group
                                                    :value [{:name :log-group-name
                                                             :tag "Log group name"
                                                             :docstring [:span "CloudWatch log group name where the logs will be sent to."]
                                                             :type :string
                                                             :pattern "[^\\s]+"
                                                             :value "/aws/eb/hop-prod"}
                                                            {:name :retention-days
                                                             :tag "Retention days"
                                                             :docstring [:span "The amount of days after which the logs will be deleted."]
                                                             :type :integer
                                                             :value 365}]}]}
                                        {:name :kms
                                         :tag "KMS"
                                         :docstring [:span "Service used to manage symmetric encryption keys required by the production environment."]
                                         :type :plain-group
                                         :value [{:name :key-alias
                                                  :tag "Key Alias"
                                                  :docstring [:span "Alias of the KMS key. It should have a shape of: alias/<name>"]
                                                  :type :string
                                                  :pattern "alias\\/[^\\s]+"
                                                  :value "alias/hop-prod"}]}]}]}]}]}]}
